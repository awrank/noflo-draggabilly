/* NoFlo 0.3.3 - Flow-Based Programming environment. See http://noflojs.org for more information. */function require(t,o,n){var e=require.resolve(t);if(null==e){n=n||t,o=o||"root";var r=Error('Failed to require "'+n+'" from "'+o+'"');throw r.path=n,r.parent=o,r.require=!0,r}var i=require.modules[e];return i.exports||(i.exports={},i.client=i.component=!0,i.call(this,i.exports,require.relative(e),i)),i.exports}require.modules={},require.aliases={},require.resolve=function(t){"/"===t.charAt(0)&&(t=t.slice(1));for(var o=t+"/index.js",n=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"],e=0;n.length>e;e++){var t=n[e];if(require.modules.hasOwnProperty(t))return t}return require.aliases.hasOwnProperty(o)?require.aliases[o]:void 0},require.normalize=function(t,o){var n=[];if("."!=o.charAt(0))return o;t=t.split("/"),o=o.split("/");for(var e=0;o.length>e;++e)".."==o[e]?t.pop():"."!=o[e]&&""!=o[e]&&n.push(o[e]);return t.concat(n).join("/")},require.register=function(t,o){require.modules[t]=o},require.alias=function(t,o){if(!require.modules.hasOwnProperty(t))throw Error('Failed to alias "'+t+'", it does not exist');require.aliases[o]=t},require.relative=function(t){function o(t,o){for(var n=t.length;n--;)if(t[n]===o)return n;return-1}function n(o){var e=n.resolve(o);return require(e,t,o)}var e=require.normalize(t,"..");return n.resolve=function(n){var r=n.charAt(0);if("/"==r)return n.slice(1);if("."==r)return require.normalize(e,n);var i=t.split("/"),s=o(i,"deps")+1;return s||(s=0),n=i.slice(0,s+1).join("/")+"/deps/"+n},n.exists=function(t){return require.modules.hasOwnProperty(n.resolve(t))},n},require.register("component-indexof/index.js",function(t,o,n){var e=[].indexOf;n.exports=function(t,o){if(e)return t.indexOf(o);for(var n=0;t.length>n;++n)if(t[n]===o)return n;return-1}}),require.register("component-emitter/index.js",function(t,o,n){function e(t){return t?r(t):void 0}function r(t){for(var o in e.prototype)t[o]=e.prototype[o];return t}var i=o("indexof");n.exports=e,e.prototype.on=function(t,o){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(o),this},e.prototype.once=function(t,o){function n(){e.off(t,n),o.apply(this,arguments)}var e=this;return this._callbacks=this._callbacks||{},o._off=n,this.on(t,n),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=function(t,o){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;var e=i(n,o._off||o);return~e&&n.splice(e,1),this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};var o=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var e=0,r=n.length;r>e;++e)n[e].apply(this,o)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}),require.register("component-underscore/index.js",function(t,o,n){(function(){var o=this,e=o._,r={},i=Array.prototype,s=Object.prototype,u=Function.prototype,c=i.push,a=i.slice,p=i.unshift,l=s.toString,h=s.hasOwnProperty,f=i.forEach,d=i.map,m=i.reduce,g=i.reduceRight,y=i.filter,v=i.every,P=i.some,b=i.indexOf,w=i.lastIndexOf,k=Array.isArray,j=Object.keys,_=u.bind,N=function(t){return new Y(t)};t!==void 0?(n!==void 0&&n.exports&&(t=n.exports=N),t._=N):o._=N,N.VERSION="1.3.3";var E=N.each=N.forEach=function(t,o,n){if(null!=t)if(f&&t.forEach===f)t.forEach(o,n);else if(t.length===+t.length){for(var e=0,i=t.length;i>e;e++)if(o.call(n,t[e],e,t)===r)return}else for(var s in t)if(N.has(t,s)&&o.call(n,t[s],s,t)===r)return};N.map=N.collect=function(t,o,n){var e=[];return null==t?e:d&&t.map===d?t.map(o,n):(E(t,function(t,r,i){e[e.length]=o.call(n,t,r,i)}),e)},N.reduce=N.foldl=N.inject=function(t,o,n,e){var r=arguments.length>2;if(null==t&&(t=[]),m&&t.reduce===m)return e&&(o=N.bind(o,e)),r?t.reduce(o,n):t.reduce(o);if(E(t,function(t,i,s){r?n=o.call(e,n,t,i,s):(n=t,r=!0)}),!r)throw new TypeError("Reduce of empty array with no initial value");return n},N.reduceRight=N.foldr=function(t,o,n,e){var r=arguments.length>2;if(null==t&&(t=[]),g&&t.reduceRight===g)return e&&(o=N.bind(o,e)),r?t.reduceRight(o,n):t.reduceRight(o);var i=N.toArray(t).reverse();return e&&!r&&(o=N.bind(o,e)),r?N.reduce(i,o,n,e):N.reduce(i,o)},N.find=N.detect=function(t,o,n){var e;return C(t,function(t,r,i){return o.call(n,t,r,i)?(e=t,!0):void 0}),e},N.filter=N.select=function(t,o,n){var e=[];return null==t?e:y&&t.filter===y?t.filter(o,n):(E(t,function(t,r,i){o.call(n,t,r,i)&&(e[e.length]=t)}),e)},N.reject=function(t,o,n){var e=[];return null==t?e:(E(t,function(t,r,i){o.call(n,t,r,i)||(e[e.length]=t)}),e)},N.every=N.all=function(t,o,n){var e=!0;return null==t?e:v&&t.every===v?t.every(o,n):(E(t,function(t,i,s){return(e=e&&o.call(n,t,i,s))?void 0:r}),!!e)};var C=N.some=N.any=function(t,o,n){o||(o=N.identity);var e=!1;return null==t?e:P&&t.some===P?t.some(o,n):(E(t,function(t,i,s){return e||(e=o.call(n,t,i,s))?r:void 0}),!!e)};N.include=N.contains=function(t,o){var n=!1;return null==t?n:b&&t.indexOf===b?-1!=t.indexOf(o):n=C(t,function(t){return t===o})},N.invoke=function(t,o){var n=a.call(arguments,2);return N.map(t,function(t){return(N.isFunction(o)?o:t[o]).apply(t,n)})},N.pluck=function(t,o){return N.map(t,function(t){return t[o]})},N.max=function(t,o,n){if(!o&&N.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.max.apply(Math,t);if(!o&&N.isEmpty(t))return-1/0;var e={computed:-1/0};return E(t,function(t,r,i){var s=o?o.call(n,t,r,i):t;s>=e.computed&&(e={value:t,computed:s})}),e.value},N.min=function(t,o,n){if(!o&&N.isArray(t)&&t[0]===+t[0]&&65535>t.length)return Math.min.apply(Math,t);if(!o&&N.isEmpty(t))return 1/0;var e={computed:1/0};return E(t,function(t,r,i){var s=o?o.call(n,t,r,i):t;e.computed>s&&(e={value:t,computed:s})}),e.value},N.shuffle=function(t){var o,n=0,e=[];return E(t,function(t){o=Math.floor(Math.random()*++n),e[n-1]=e[o],e[o]=t}),e},N.sortBy=function(t,o,n){var e=x(t,o);return N.pluck(N.map(t,function(t,o,r){return{value:t,criteria:e.call(n,t,o,r)}}).sort(function(t,o){var n=t.criteria,e=o.criteria;return void 0===n?1:void 0===e?-1:e>n?-1:n>e?1:0}),"value")};var x=function(t,o){return N.isFunction(o)?o:function(t){return t[o]}},q=function(t,o,n){var e={},r=x(t,o);return E(t,function(t,o){var i=r(t,o);n(e,i,t)}),e};N.groupBy=function(t,o){return q(t,o,function(t,o,n){(t[o]||(t[o]=[])).push(n)})},N.countBy=function(t,o){return q(t,o,function(t,o){t[o]||(t[o]=0),t[o]++})},N.sortedIndex=function(t,o,n){n||(n=N.identity);for(var e=n(o),r=0,i=t.length;i>r;){var s=r+i>>1;e>n(t[s])?r=s+1:i=s}return r},N.toArray=function(t){return t?N.isArray(t)?a.call(t):N.isArguments(t)?a.call(t):t.toArray&&N.isFunction(t.toArray)?t.toArray():N.values(t):[]},N.size=function(t){return N.isArray(t)?t.length:N.keys(t).length},N.first=N.head=N.take=function(t,o,n){return null==o||n?t[0]:a.call(t,0,o)},N.initial=function(t,o,n){return a.call(t,0,t.length-(null==o||n?1:o))},N.last=function(t,o,n){return null==o||n?t[t.length-1]:a.call(t,Math.max(t.length-o,0))},N.rest=N.tail=function(t,o,n){return a.call(t,null==o||n?1:o)},N.compact=function(t){return N.filter(t,function(t){return!!t})};var A=function(t,o,n){return E(t,function(t){N.isArray(t)?o?c.apply(n,t):A(t,o,n):n.push(t)}),n};N.flatten=function(t,o){return A(t,o,[])},N.without=function(t){return N.difference(t,a.call(arguments,1))},N.uniq=N.unique=function(t,o,n){var e=n?N.map(t,n):t,r=[];return N.reduce(e,function(n,e,i){return(o?N.last(n)===e&&n.length:N.include(n,e))||(n.push(e),r.push(t[i])),n},[]),r},N.union=function(){return N.uniq(A(arguments,!0,[]))},N.intersection=function(t){var o=a.call(arguments,1);return N.filter(N.uniq(t),function(t){return N.every(o,function(o){return N.indexOf(o,t)>=0})})},N.difference=function(t){var o=A(a.call(arguments,1),!0,[]);return N.filter(t,function(t){return!N.include(o,t)})},N.zip=function(){for(var t=a.call(arguments),o=N.max(N.pluck(t,"length")),n=Array(o),e=0;o>e;e++)n[e]=N.pluck(t,""+e);return n},N.zipObject=function(t,o){for(var n={},e=0,r=t.length;r>e;e++)n[t[e]]=o[e];return n},N.indexOf=function(t,o,n){if(null==t)return-1;var e,r;if(n)return e=N.sortedIndex(t,o),t[e]===o?e:-1;if(b&&t.indexOf===b)return t.indexOf(o);for(e=0,r=t.length;r>e;e++)if(t[e]===o)return e;return-1},N.lastIndexOf=function(t,o){if(null==t)return-1;if(w&&t.lastIndexOf===w)return t.lastIndexOf(o);for(var n=t.length;n--;)if(t[n]===o)return n;return-1},N.range=function(t,o,n){1>=arguments.length&&(o=t||0,t=0),n=arguments[2]||1;for(var e=Math.max(Math.ceil((o-t)/n),0),r=0,i=Array(e);e>r;)i[r++]=t,t+=n;return i};var O=function(){};N.bind=function(t,o){var n,e;if(t.bind===_&&_)return _.apply(t,a.call(arguments,1));if(!N.isFunction(t))throw new TypeError;return e=a.call(arguments,2),n=function(){if(!(this instanceof n))return t.apply(o,e.concat(a.call(arguments)));O.prototype=t.prototype;var r=new O,i=t.apply(r,e.concat(a.call(arguments)));return Object(i)===i?i:r}},N.bindAll=function(t){var o=a.call(arguments,1);return 0==o.length&&(o=N.functions(t)),E(o,function(o){t[o]=N.bind(t[o],t)}),t},N.memoize=function(t,o){var n={};return o||(o=N.identity),function(){var e=o.apply(this,arguments);return N.has(n,e)?n[e]:n[e]=t.apply(this,arguments)}},N.delay=function(t,o){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},o)},N.defer=function(t){return N.delay.apply(N,[t,1].concat(a.call(arguments,1)))},N.throttle=function(t,o){var n,e,r,i,s,u,c=N.debounce(function(){s=i=!1},o);return function(){n=this,e=arguments;var a=function(){r=null,s&&t.apply(n,e),c()};return r||(r=setTimeout(a,o)),i?s=!0:(i=!0,u=t.apply(n,e)),c(),u}},N.debounce=function(t,o,n){var e;return function(){var r=this,i=arguments,s=function(){e=null,n||t.apply(r,i)},u=n&&!e;clearTimeout(e),e=setTimeout(s,o),u&&t.apply(r,i)}},N.once=function(t){var o,n=!1;return function(){return n?o:(n=!0,o=t.apply(this,arguments))}},N.wrap=function(t,o){return function(){var n=[t].concat(a.call(arguments,0));return o.apply(this,n)}},N.compose=function(){var t=arguments;return function(){for(var o=arguments,n=t.length-1;n>=0;n--)o=[t[n].apply(this,o)];return o[0]}},N.after=function(t,o){return 0>=t?o():function(){return 1>--t?o.apply(this,arguments):void 0}},N.keys=j||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var o=[];for(var n in t)N.has(t,n)&&(o[o.length]=n);return o},N.values=function(t){return N.map(t,N.identity)},N.functions=N.methods=function(t){var o=[];for(var n in t)N.isFunction(t[n])&&o.push(n);return o.sort()},N.extend=function(t){return E(a.call(arguments,1),function(o){for(var n in o)t[n]=o[n]}),t},N.pick=function(t){var o={};return E(A(a.call(arguments,1),!0,[]),function(n){n in t&&(o[n]=t[n])}),o},N.defaults=function(t){return E(a.call(arguments,1),function(o){for(var n in o)null==t[n]&&(t[n]=o[n])}),t},N.clone=function(t){return N.isObject(t)?N.isArray(t)?t.slice():N.extend({},t):t},N.tap=function(t,o){return o(t),t};var F=function(t,o,n){if(t===o)return 0!==t||1/t==1/o;if(null==t||null==o)return t===o;if(t._chain&&(t=t._wrapped),o._chain&&(o=o._wrapped),t.isEqual&&N.isFunction(t.isEqual))return t.isEqual(o);if(o.isEqual&&N.isFunction(o.isEqual))return o.isEqual(t);var e=l.call(t);if(e!=l.call(o))return!1;switch(e){case"[object String]":return t==o+"";case"[object Number]":return t!=+t?o!=+o:0==t?1/t==1/o:t==+o;case"[object Date]":case"[object Boolean]":return+t==+o;case"[object RegExp]":return t.source==o.source&&t.global==o.global&&t.multiline==o.multiline&&t.ignoreCase==o.ignoreCase}if("object"!=typeof t||"object"!=typeof o)return!1;for(var r=n.length;r--;)if(n[r]==t)return!0;n.push(t);var i=0,s=!0;if("[object Array]"==e){if(i=t.length,s=i==o.length)for(;i--&&(s=i in t==i in o&&F(t[i],o[i],n)););}else{if("constructor"in t!="constructor"in o||t.constructor!=o.constructor)return!1;for(var u in t)if(N.has(t,u)&&(i++,!(s=N.has(o,u)&&F(t[u],o[u],n))))break;if(s){for(u in o)if(N.has(o,u)&&!i--)break;s=!i}}return n.pop(),s};N.isEqual=function(t,o){return F(t,o,[])},N.isEmpty=function(t){if(null==t)return!0;if(N.isArray(t)||N.isString(t))return 0===t.length;for(var o in t)if(N.has(t,o))return!1;return!0},N.isElement=function(t){return!(!t||1!=t.nodeType)},N.isArray=k||function(t){return"[object Array]"==l.call(t)},N.isObject=function(t){return t===Object(t)},E(["Arguments","Function","String","Number","Date","RegExp"],function(t){N["is"+t]=function(o){return l.call(o)=="[object "+t+"]"}}),N.isArguments(arguments)||(N.isArguments=function(t){return!(!t||!N.has(t,"callee"))}),N.isFinite=function(t){return N.isNumber(t)&&isFinite(t)},N.isNaN=function(t){return t!==t},N.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==l.call(t)},N.isNull=function(t){return null===t},N.isUndefined=function(t){return void 0===t},N.has=function(t,o){return h.call(t,o)},N.noConflict=function(){return o._=e,this},N.identity=function(t){return t},N.times=function(t,o,n){for(var e=0;t>e;e++)o.call(n,e)};var G={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},L=/[&<>"'\/]/g;N.escape=function(t){return(""+t).replace(L,function(t){return G[t]})},N.result=function(t,o){if(null==t)return null;var n=t[o];return N.isFunction(n)?n.call(t):n},N.mixin=function(t){E(N.functions(t),function(o){B(o,N[o]=t[o])})};var S=0;N.uniqueId=function(t){var o=S++;return t?t+o:o},N.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var D=/.^/,T={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var I in T)T[T[I]]=I;var M=/\\|'|\r|\n|\t|\u2028|\u2029/g,R=/\\(\\|'|r|n|t|u2028|u2029)/g,z=function(t){return t.replace(R,function(t,o){return T[o]})};N.template=function(t,o,n){n=N.defaults(n||{},N.templateSettings);var e="__p+='"+t.replace(M,function(t){return"\\"+T[t]}).replace(n.escape||D,function(t,o){return"'+\n((__t=("+z(o)+"))==null?'':_.escape(__t))+\n'"}).replace(n.interpolate||D,function(t,o){return"'+\n((__t=("+z(o)+"))==null?'':__t)+\n'"}).replace(n.evaluate||D,function(t,o){return"';\n"+z(o)+"\n__p+='"})+"';\n";n.variable||(e="with(obj||{}){\n"+e+"}\n"),e="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'')};\n"+e+"return __p;\n";var r=Function(n.variable||"obj","_",e);if(o)return r(o,N);var i=function(t){return r.call(this,t,N)};return i.source="function("+(n.variable||"obj")+"){\n"+e+"}",i},N.chain=function(t){return N(t).chain()};var Y=function(t){this._wrapped=t};N.prototype=Y.prototype;var X=function(t,o){return o?N(t).chain():t},B=function(t,o){Y.prototype[t]=function(){var t=a.call(arguments);return p.call(t,this._wrapped),X(o.apply(N,t),this._chain)}};N.mixin(N),E(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var o=i[t];Y.prototype[t]=function(){var n=this._wrapped;return o.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],X(n,this._chain)}}),E(["concat","join","slice"],function(t){var o=i[t];Y.prototype[t]=function(){return X(o.apply(this._wrapped,arguments),this._chain)}}),Y.prototype.chain=function(){return this._chain=!0,this},Y.prototype.value=function(){return this._wrapped}}).call(this)}),require.register("noflo/src/lib/Graph.js",function(t,o){var n,e,r,i,s={}.hasOwnProperty,u=function(t,o){function n(){this.constructor=t}for(var e in o)s.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};"object"==typeof process&&"node"===process.title?(i=o("fs"),n=o("events").EventEmitter,r=o("./Fbp")):n=o("emitter"),e=function(t){function o(t){this.name=null!=t?t:"",this.nodes=[],this.edges=[],this.initializers=[],this.exports=[]}return u(o,t),o.prototype.name="",o.prototype.nodes=[],o.prototype.edges=[],o.prototype.initializers=[],o.prototype.exports=[],o.prototype.addExport=function(t,o){return this.exports.push({"private":t.toLowerCase(),"public":o.toLowerCase()})},o.prototype.addNode=function(t,o,n){var e;return n||(n={}),e={id:t,component:o,metadata:n},n.display&&(e.display=n.display),this.nodes.push(e),this.emit("addNode",e),e},o.prototype.removeNode=function(t){var o,n,e,r,i,s,u,c,a;for(e=this.getNode(t),c=this.edges,r=0,s=c.length;s>r;r++)o=c[r],o.from.node===e.id&&this.removeEdge(o.from.node,o.from.port),o.to.node===e.id&&this.removeEdge(o.to.node,o.to.port);for(a=this.initializers,i=0,u=a.length;u>i;i++)n=a[i],n.to.node===e.id&&this.removeEdge(n.to.node,n.to.port);return this.emit("removeNode",e),-1!==this.nodes.indexOf(e)?this.nodes.splice(this.nodes.indexOf(e),1):void 0},o.prototype.getNode=function(t){var o,n,e,r;for(r=this.nodes,n=0,e=r.length;e>n;n++)if(o=r[n],o.id===t)return o;return null},o.prototype.addEdge=function(t,o,n,e){var r;return r={from:{node:t,port:o},to:{node:n,port:e}},this.edges.push(r),this.emit("addEdge",r),r},o.prototype.removeEdge=function(t,o){var n,e,r,i,s,u,c,a,p;for(c=this.edges,e=r=0,s=c.length;s>r;e=++r)n=c[e],n&&(n.from.node===t&&n.from.port===o&&(this.emit("removeEdge",n),this.edges.splice(e,1)),n.to.node===t&&n.to.port===o&&(this.emit("removeEdge",n),this.edges.splice(e,1)));for(a=this.initializers,p=[],e=i=0,u=a.length;u>i;e=++i)n=a[e],n&&(n.to.node===t&&n.to.port===o?(this.emit("removeEdge",n),p.push(this.initializers.splice(e,1))):p.push(void 0));return p},o.prototype.addInitial=function(t,o,n,e){var r;return r={from:{data:t},to:{node:o,port:n},metadata:e},this.initializers.push(r),this.emit("addEdge",r),r},o.prototype.toDOT=function(){var t,o,n,e,r,i,s,u,c,a,p,l,h,f,d,m;for(t=function(t){return t.replace(/\s*/g,"")},o=function(t){return t.replace(/\./g,"")},n="digraph {\n",f=this.nodes,u=0,p=f.length;p>u;u++)s=f[u],n+="    "+t(s.id)+" [label="+s.id+" shape=box]\n";for(d=this.initializers,r=c=0,l=d.length;l>c;r=++c)i=d[r],n+="    data"+r+" [label=\"'"+i.from.data+"'\" shape=plaintext]\n",n+="    data"+r+" -> "+t(i.to.node)+"[headlabel="+o(i.to.port)+" labelfontcolor=blue labelfontsize=8.0]\n";for(m=this.edges,a=0,h=m.length;h>a;a++)e=m[a],n+="    "+t(e.from.node)+" -> "+t(e.to.node)+"[taillabel="+o(e.from.port)+" headlabel="+o(e.to.port)+" labelfontcolor=blue labelfontsize=8.0]\n";return n+="}"},o.prototype.toYUML=function(){var t,o,n,e,r,i,s,u,c;for(n=[],u=this.initializers,e=0,i=u.length;i>e;e++)o=u[e],n.push("(start)["+o.to.port+"]->("+o.to.node+")");for(c=this.edges,r=0,s=c.length;s>r;r++)t=c[r],n.push("("+t.from.node+")["+t.from.port+"]->("+t.to.node+")");return n.join(",")},o.prototype.toJSON=function(){var t,o,n,e,r,i,s,u,c,a,p,l,h,f,d,m,g;for(e={properties:{name:this.name},exports:[],processes:{},connections:[]},f=this.exports,i=0,a=f.length;a>i;i++)o=f[i],e.exports.push({"private":o["private"],"public":o["public"]});for(d=this.nodes,s=0,p=d.length;p>s;s++)r=d[s],e.processes[r.id]={component:r.component},r.display&&(e.processes[r.id].display=r.display);for(m=this.edges,u=0,l=m.length;l>u;u++)t=m[u],e.connections.push({src:{process:t.from.node,port:t.from.port},tgt:{process:t.to.node,port:t.to.port}});for(g=this.initializers,c=0,h=g.length;h>c;c++)n=g[c],e.connections.push({data:n.from.data,tgt:{process:n.to.node,port:n.to.port}});return e},o.prototype.save=function(t,o){var n;return n=JSON.stringify(this.toJSON(),null,4),i.writeFile(""+t+".json",n,"utf-8",function(n){if(n)throw n;return o(t)})},o}(n),t.Graph=e,t.createGraph=function(t){return new e(t)},t.loadJSON=function(t,o){var n,r,i,s,u,c,a,p,l,h,f,d;t.properties||(t.properties={}),t.processes||(t.processes={}),t.connections||(t.connections=[]),s=new e(t.properties.name),h=t.processes;for(u in h)r=h[u],r.display&&(r.metadata||(r.metadata={}),r.metadata.display=r.display),s.addNode(u,r.component,r.metadata);for(f=t.connections,c=0,p=f.length;p>c;c++)n=f[c],void 0===n.data?s.addEdge(n.src.process,n.src.port.toLowerCase(),n.tgt.process,n.tgt.port.toLowerCase()):s.addInitial(n.data,n.tgt.process,n.tgt.port.toLowerCase());if(t.exports)for(d=t.exports,a=0,l=d.length;l>a;a++)i=d[a],s.addExport(i["private"],i["public"]);return o(s)},t.loadFile=function(o,n){return i.readFile(o,"utf-8",function(e,r){var i;if(e)throw e;return"fbp"===o.split(".").pop()?t.loadFBP(r,n):(i=JSON.parse(r),t.loadJSON(i,n))})},t.loadFBP=function(o,n){var e,i;return i=new r.Fbp,e=i.parse(o),t.loadJSON(e,n)}}),require.register("noflo/src/lib/InternalSocket.js",function(t,o){var n,e,r={}.hasOwnProperty,i=function(t,o){function n(){this.constructor=t}for(var e in o)r.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};n="object"==typeof process&&"node"===process.title?o("events").EventEmitter:o("emitter"),e=function(t){function o(){this.connected=!1,this.groups=[]}return i(o,t),o.prototype.connect=function(){return this.connected?void 0:(this.connected=!0,this.emit("connect",this))},o.prototype.disconnect=function(){return this.connected?(this.connected=!1,this.emit("disconnect",this)):void 0},o.prototype.isConnected=function(){return this.connected},o.prototype.send=function(t){return this.connected||this.connect(),this.emit("data",t)},o.prototype.beginGroup=function(t){return this.groups.push(t),this.emit("begingroup",t)},o.prototype.endGroup=function(){return this.emit("endgroup",this.groups.pop())},o.prototype.getId=function(){var t,o;return t=function(t){return""+t.process.id+"() "+t.port.toUpperCase()},o=function(t){return""+t.port.toUpperCase()+" "+t.process.id+"()"},this.from||this.to?this.from&&!this.to?""+t(this.from)+" -> ANON":this.from?""+t(this.from)+" -> "+o(this.to):"DATA -> "+o(this.to):"UNDEFINED"},o}(n),t.InternalSocket=e,t.createSocket=function(){return new e}}),require.register("noflo/src/lib/Port.js",function(t,o){var n,e,r={}.hasOwnProperty,i=function(t,o){function n(){this.constructor=t}for(var e in o)r.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};n="object"==typeof process&&"node"===process.title?o("events").EventEmitter:o("emitter"),e=function(t){function o(t){this.type=t,this.type||(this.type="all"),this.socket=null,this.from=null}return i(o,t),o.prototype.attach=function(t){if(this.isAttached())throw Error(""+this.name+": Socket already attached "+this.socket.getId()+" - "+t.getId());return this.socket=t,this.attachSocket(t)},o.prototype.attachSocket=function(t,o){var n=this;return null==o&&(o=null),this.emit("attach",t),this.from=t.from,t.setMaxListeners&&t.setMaxListeners(0),t.on("connect",function(){return n.emit("connect",t,o)}),t.on("begingroup",function(t){return n.emit("begingroup",t,o)}),t.on("data",function(t){return n.emit("data",t,o)}),t.on("endgroup",function(t){return n.emit("endgroup",t,o)}),t.on("disconnect",function(){return n.emit("disconnect",t,o)})},o.prototype.connect=function(){if(!this.socket)throw Error("No connection available");return this.socket.connect()},o.prototype.beginGroup=function(t){var o=this;if(!this.socket)throw Error("No connection available");return this.isConnected()?this.socket.beginGroup(t):(this.socket.once("connect",function(){return o.socket.beginGroup(t)}),this.socket.connect())},o.prototype.send=function(t){var o=this;if(!this.socket)throw Error("No connection available");return this.isConnected()?this.socket.send(t):(this.socket.once("connect",function(){return o.socket.send(t)}),this.socket.connect())},o.prototype.endGroup=function(){if(!this.socket)throw Error("No connection available");return this.socket.endGroup()},o.prototype.disconnect=function(){if(!this.socket)throw Error("No connection available");return this.socket.disconnect()},o.prototype.detach=function(t){return this.isAttached(t)?(this.emit("detach",this.socket),this.from=null,this.socket=null):void 0},o.prototype.isConnected=function(){return this.socket?this.socket.isConnected():!1},o.prototype.isAttached=function(){return null!==this.socket},o}(n),t.Port=e}),require.register("noflo/src/lib/ArrayPort.js",function(t,o){var n,e,r={}.hasOwnProperty,i=function(t,o){function n(){this.constructor=t}for(var e in o)r.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};e=o("./Port"),n=function(t){function o(t){this.type=t,this.type||(this.type="all"),this.sockets=[]}return i(o,t),o.prototype.attach=function(t){return this.sockets.push(t),this.attachSocket(t,this.sockets.length-1)},o.prototype.connect=function(t){if(null==t&&(t=null),null===t){if(!this.sockets.length)throw Error("No sockets available");return this.sockets.forEach(function(t){return t.connect()}),void 0}if(!this.sockets[t])throw Error("No socket '"+t+"' available");return this.sockets[t].connect()},o.prototype.beginGroup=function(t,o){var n=this;if(null==o&&(o=null),null===o){if(!this.sockets.length)throw Error("No sockets available");return this.sockets.forEach(function(o,e){return n.beginGroup(t,e)}),void 0}if(!this.sockets[o])throw Error("No socket '"+o+"' available");return this.isConnected(o)?this.sockets[o].beginGroup(t):(this.sockets[o].once("connect",function(){return n.sockets[o].beginGroup(t)}),this.sockets[o].connect())},o.prototype.send=function(t,o){var n=this;if(null==o&&(o=null),null===o){if(!this.sockets.length)throw Error("No sockets available");return this.sockets.forEach(function(o,e){return n.send(t,e)}),void 0}if(!this.sockets[o])throw Error("No socket '"+o+"' available");return this.isConnected(o)?this.sockets[o].send(t):(this.sockets[o].once("connect",function(){return n.sockets[o].send(t)}),this.sockets[o].connect())},o.prototype.endGroup=function(t){var o=this;if(null==t&&(t=null),null===t){if(!this.sockets.length)throw Error("No sockets available");return this.sockets.forEach(function(t,n){return o.endGroup(n)}),void 0}if(!this.sockets[t])throw Error("No socket '"+t+"' available");return this.sockets[t].endGroup()},o.prototype.disconnect=function(t){var o,n,e,r;if(null==t&&(t=null),null!==t){if(this.sockets[t])return this.sockets[t].disconnect()}else{if(!this.sockets.length)throw Error("No sockets available");for(r=this.sockets,n=0,e=r.length;e>n;n++)o=r[n],o.disconnect()}},o.prototype.detach=function(t){return-1!==this.sockets.indexOf(t)?(this.sockets.splice(this.sockets.indexOf(t),1),this.emit("detach",t)):void 0},o.prototype.isConnected=function(t){var o;return null==t&&(t=null),null===t?(o=!1,this.sockets.forEach(function(t){return t.isConnected()?o=!0:void 0}),o):this.sockets[t]?this.sockets[t].isConnected():!1},o.prototype.isAttached=function(t){return void 0===t?!1:this.sockets[t]?!0:!1},o}(e.Port),t.ArrayPort=n}),require.register("noflo/src/lib/Component.js",function(t,o){var n,e,r,i={}.hasOwnProperty,s=function(t,o){function n(){this.constructor=t}for(var e in o)i.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};e="object"==typeof process&&"node"===process.title?o("events").EventEmitter:o("emitter"),n=function(t){function o(){return r=o.__super__.constructor.apply(this,arguments)}return s(o,t),o.prototype.description="",o.prototype.getDescription=function(){return this.description},o.prototype.isReady=function(){return!0},o.prototype.isSubgraph=function(){return!1},o}(e),t.Component=n}),require.register("noflo/src/lib/AsyncComponent.js",function(t,o){var n,e,r,i={}.hasOwnProperty,s=function(t,o){function n(){this.constructor=t}for(var e in o)i.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};r=o("./Port"),e=o("./Component"),n=function(t){function o(t,o,n){var e=this;if(this.inPortName=null!=t?t:"in",this.outPortName=null!=o?o:"out",this.errPortName=null!=n?n:"error",!this.inPorts[this.inPortName])throw Error("no inPort named '"+this.inPortName+"'");if(!this.outPorts[this.outPortName])throw Error("no outPort named '"+this.outPortName+"'");this.load=0,this.q=[],this.outPorts.load=new r.Port,this.inPorts[this.inPortName].on("begingroup",function(t){return e.load>0?e.q.push({name:"begingroup",data:t}):e.outPorts[e.outPortName].beginGroup(t)}),this.inPorts[this.inPortName].on("endgroup",function(){return e.load>0?e.q.push({name:"endgroup"}):e.outPorts[e.outPortName].endGroup()}),this.inPorts[this.inPortName].on("disconnect",function(){return e.load>0?e.q.push({name:"disconnect"}):(e.outPorts[e.outPortName].disconnect(),e.outPorts.load.isAttached()?e.outPorts.load.disconnect():void 0)}),this.inPorts[this.inPortName].on("data",function(t){return e.q.length>0?e.q.push({name:"data",data:t}):e.processData(t)})}return s(o,t),o.prototype.processData=function(t){var o=this;return this.incrementLoad(),this.doAsync(t,function(t){if(t){if(!o.outPorts[o.errPortName]||!o.outPorts[o.errPortName].isAttached())throw t;o.outPorts[o.errPortName].send(t),o.outPorts[o.errPortName].disconnect()}return o.decrementLoad()})},o.prototype.incrementLoad=function(){return this.load++,this.outPorts.load.isAttached()&&this.outPorts.load.send(this.load),this.outPorts.load.isAttached()?this.outPorts.load.disconnect():void 0},o.prototype.doAsync=function(t,o){return o(Error("AsyncComponents must implement doAsync"))},o.prototype.decrementLoad=function(){var t=this;if(0===this.load)throw Error("load cannot be negative");return this.load--,this.outPorts.load.isAttached()&&this.outPorts.load.send(this.load),this.outPorts.load.isAttached()&&this.outPorts.load.disconnect(),"object"==typeof process&&"node"===process.title?process.nextTick(function(){return t.processQueue()}):setTimeout(function(){return t.processQueue()},0)},o.prototype.processQueue=function(){var t,o;if(!(this.load>0))for(o=!1;this.q.length>0;)switch(t=this.q[0],t.name){case"begingroup":if(o)return;this.outPorts[this.outPortName].beginGroup(t.data),this.q.shift();break;case"endgroup":if(o)return;this.outPorts[this.outPortName].endGroup(),this.q.shift();break;case"disconnect":if(o)return;this.outPorts[this.outPortName].disconnect(),this.outPorts.load.isAttached()&&this.outPorts.load.disconnect(),this.q.shift();break;case"data":this.processData(t.data),this.q.shift(),o=!0}},o}(e.Component),t.AsyncComponent=n}),require.register("noflo/src/lib/LoggingComponent.js",function(t,o){var n,e,r,i=function(t,o){return function(){return t.apply(o,arguments)}},s={}.hasOwnProperty,u=function(t,o){function n(){this.constructor=t}for(var e in o)s.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};n=o("./Component").Component,e=o("./Port").Port,r="object"==typeof process&&"node"===process.title?o("util"):{inspect:function(t){return t}},t.LoggingComponent=function(t){function o(){this.sendLog=i(this.sendLog,this),this.outPorts={log:new e}}return u(o,t),o.prototype.sendLog=function(t){return"object"==typeof t&&(t.when=new Date,t.source=this.constructor.name,null!=this.nodeId&&(t.nodeID=this.nodeId)),null!=this.outPorts.log&&this.outPorts.log.isAttached()?this.outPorts.log.send(t):console.log(r.inspect(t,4,!0,!0))},o}(n)}),require.register("noflo/src/lib/ComponentLoader.js",function(t,o){var n;n=function(){function t(t){this.baseDir=t,this.components=null,this.checked=[],this.revalidate=!1}return t.prototype.getModulePrefix=function(t){return t?"noflo"===t?"":t.replace("noflo-",""):""},t.prototype.getModuleComponents=function(t){var n,e,r,i,s,u,c,a;if(-1===this.checked.indexOf(t)){this.checked.push(t);try{e=o("/"+t+"/component.json")}catch(p){return i=p,void 0}for(r in e.dependencies)this.getModuleComponents(r);if(e.noflo&&(u=this.getModulePrefix(e.name),e.noflo.components)){c=e.noflo.components,a=[];for(s in c)n=c[s],a.push(this.registerComponent(u,s,"/"+t+"/"+n));return a}}},t.prototype.listComponents=function(t){return null!==this.components?t(this.components):(this.components={},this.getModuleComponents(this.baseDir),t(this.components))},t.prototype.load=function(t,n){var e,r,i=this;if(!this.components)return this.listComponents(function(){return i.load(t,n)}),void 0;if(!this.components[t])throw Error("Component "+t+" not available");return this.isGraph(this.components[t])?(process.nextTick(function(){return i.loadGraph(t,n)}),void 0):(e=o(this.components[t]),r=e.getComponent(),"Graph"===t&&(r.baseDir=this.baseDir),n(r))},t.prototype.isGraph=function(){return!1
},t.prototype.registerComponent=function(t,o,n,e){var r,i;return i=this.getModulePrefix(t),r=""+i+"/"+o,t||(r=o),this.components[r]=n,e?e():void 0},t.prototype.registerGraph=function(t,o,n,e){return this.registerComponent(t,o,n,e)},t.prototype.clear=function(){return this.components=null,this.checked=[],this.revalidate=!0},t}(),t.ComponentLoader=n}),require.register("noflo/src/lib/NoFlo.js",function(t,o){var n,e,r,i,s,u,c,a,p;a=o("./InternalSocket"),s=o("./Component"),i=o("./AsyncComponent"),p=o("./Port"),r=o("./ArrayPort"),c=o("./Graph"),e=o("./Network").Network,n=o("./LoggingComponent").LoggingComponent,u="object"==typeof process&&"node"===process.title?o("./nodejs/ComponentLoader"):o("./ComponentLoader"),t.createNetwork=function(t,o){var n,r;return n=new e(t),r=function(t){return null!=o&&o(t),t.sendInitials()},0===t.nodes.length?(setTimeout(function(){return r(n)},0),n):(n.loader.listComponents(function(){return n.connect(function(){return r(n)})}),n)},t.loadFile=function(o,n){return c.loadFile(o,function(o){return t.createNetwork(o,n)})},t.saveFile=function(t,o,n){return t.save(o,function(){return n(o)})},t.Component=s.Component,t.ComponentLoader=u.ComponentLoader,t.AsyncComponent=i.AsyncComponent,t.LoggingComponent=n,t.Port=p.Port,t.ArrayPort=r.ArrayPort,t.Graph=c.Graph,t.Network=e,t.graph=c,t.internalSocket=a}),require.register("noflo/src/lib/Network.js",function(t,o){var n,e,r,i,s,u,c={}.hasOwnProperty,a=function(t,o){function n(){this.constructor=t}for(var e in o)c.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};u=o("underscore"),s=o("./InternalSocket"),i=o("./Graph"),"object"==typeof process&&"node"===process.title?(r=o("./nodejs/ComponentLoader"),n=o("events").EventEmitter):(r=o("./ComponentLoader"),n=o("emitter")),e=function(t){function o(t){var o=this;this.processes={},this.connections=[],this.initials=[],this.graph=t,this.baseDir="object"==typeof process&&"node"===process.title?t.baseDir||process.cwd():t.baseDir||"/",this.startupDate=new Date,this.handleStartEnd(),this.graph.on("addNode",function(t){return o.addNode(t)}),this.graph.on("removeNode",function(t){return o.removeNode(t)}),this.graph.on("addEdge",function(t){return o.addEdge(t)}),this.graph.on("removeEdge",function(t){return o.removeEdge(t)}),this.loader=new r.ComponentLoader(this.baseDir)}return a(o,t),o.prototype.processes={},o.prototype.connections=[],o.prototype.initials=[],o.prototype.graph=null,o.prototype.startupDate=null,o.prototype.portBuffer={},o.prototype.uptime=function(){return new Date-this.startupDate},o.prototype.handleStartEnd=function(){var t,o,n,e,r=this;return t=0,n=!1,o=!1,e=null,this.on("connect",function(o){return o.socket.from?(e&&clearTimeout(e),0!==t||n||(r.emit("start",{start:r.startupDate}),n=!0),t++):void 0}),this.on("disconnect",function(i){return i.socket.from&&(t--,0>=t)?e=setTimeout(function(){return o?void 0:(r.emit("end",{start:r.startupDate,end:new Date,uptime:r.uptime()}),n=!1,o=!0)},10):void 0})},o.prototype.load=function(t,o){return"object"==typeof t?o(t):this.loader.load(t,o)},o.prototype.addNode=function(t,o){var n,e=this;if(!this.processes[t.id])return n={id:t.id},t.component?this.load(t.component,function(r){return r.nodeId=t.id,n.component=r,r.isSubgraph()&&e.subscribeSubgraph(t.id,r),e.processes[n.id]=n,o?o(n):void 0}):(this.processes[n.id]=n,o&&o(n),void 0)},o.prototype.removeNode=function(t){return this.processes[t.id]?delete this.processes[t.id]:void 0},o.prototype.getNode=function(t){return this.processes[t]},o.prototype.connect=function(t){var o,n,e,r,i=this;return null==t&&(t=function(){}),r=function(t,o){return function(n){return i["add"+n](o,function(){return t(n)})}},n=u.reduceRight(this.graph.initializers,r,t),o=u.reduceRight(this.graph.edges,r,function(){return n("Initial")}),e=u.reduceRight(this.graph.nodes,r,function(){return o("Edge")}),e("Node")},o.prototype.connectPort=function(t,o,n,e){if(e){if(t.to={process:o,port:n},!o.component.inPorts||!o.component.inPorts[n])throw Error("No inport '"+n+"' defined in process "+o.id+" ("+t.getId()+")");return o.component.inPorts[n].attach(t)}if(t.from={process:o,port:n},!o.component.outPorts||!o.component.outPorts[n])throw Error("No outport '"+n+"' defined in process "+o.id+" ("+t.getId()+")");return o.component.outPorts[n].attach(t)},o.prototype.subscribeSubgraph=function(t,o){var n,e=this;return o.isReady()||o.once("ready",function(){e.subscribeSubgraph(t,o)}),o.network?(n=function(o,n){return n||(n={}),n.subgraph=n.subgraph?""+t+":"+n.subgraph:t,e.emit(o,n)},o.network.on("connect",function(t){return n("connect",t)}),o.network.on("begingroup",function(t){return n("begingroup",t)}),o.network.on("data",function(t){return n("data",t)}),o.network.on("endgroup",function(t){return n("endgroup",t)}),o.network.on("disconnect",function(t){return n("disconnect",t)})):void 0},o.prototype.subscribeSocket=function(t){var o=this;return t.on("connect",function(){return o.emit("connect",{id:t.getId(),socket:t})}),t.on("begingroup",function(n){return o.emit("begingroup",{id:t.getId(),socket:t,group:n})}),t.on("data",function(n){return o.emit("data",{id:t.getId(),socket:t,data:n})}),t.on("endgroup",function(n){return o.emit("endgroup",{id:t.getId(),socket:t,group:n})}),t.on("disconnect",function(){return o.emit("disconnect",{id:t.getId(),socket:t})})},o.prototype.addEdge=function(t,o){var n,e,r,i=this;if(!t.from.node)return this.addInitial(t);if(e=s.createSocket(),n=this.getNode(t.from.node),!n)throw Error("No process defined for outbound node "+t.from.node);if(!n.component)throw Error("No component defined for outbound node "+t.from.node);if(!n.component.isReady())return n.component.once("ready",function(){return i.addEdge(t,o)}),void 0;if(r=this.getNode(t.to.node),!r)throw Error("No process defined for inbound node "+t.to.node);if(!r.component)throw Error("No component defined for inbound node "+t.to.node);return r.component.isReady()?(this.connectPort(e,r,t.to.port,!0),this.connectPort(e,n,t.from.port,!1),this.subscribeSocket(e),this.connections.push(e),o?o():void 0):(r.component.once("ready",function(){return i.addEdge(t,o)}),void 0)},o.prototype.removeEdge=function(t){var o,n,e,r,i;for(r=this.connections,i=[],n=0,e=r.length;e>n;n++)o=r[n],o&&t.to.node===o.to.process.id&&t.to.port===o.to.port&&(o.to.process.component.inPorts[o.to.port].detach(o),t.from.node&&o.from&&t.from.node===o.from.process.id&&t.from.port===o.from.port&&o.from.process.component.outPorts[o.from.port].detach(o),i.push(this.connections.splice(this.connections.indexOf(o),1)));return i},o.prototype.addInitial=function(t,o){var n,e,r=this;if(n=s.createSocket(),this.subscribeSocket(n),e=this.getNode(t.to.node),!e)throw Error("No process defined for inbound node "+t.to.node);return e.component.isReady()||e.component.inPorts[t.to.port]?(this.connectPort(n,e,t.to.port,!0),this.connections.push(n),this.initials.push({socket:n,data:t.from.data}),o?o():void 0):(e.component.setMaxListeners(0),e.component.once("ready",function(){return r.addInitial(t,o)}),void 0)},o.prototype.sendInitial=function(t){return t.socket.connect(),t.socket.send(t.data),t.socket.disconnect()},o.prototype.sendInitials=function(){var t,o=this;return t=function(){var t,n,e,r;for(r=o.initials,n=0,e=r.length;e>n;n++)t=r[n],o.sendInitial(t);return o.initials=[]},"object"==typeof process&&"node"===process.title?process.nextTick(t):setTimeout(t,0)},o}(n),t.Network=e}),require.register("noflo/src/components/GetElement.js",function(t,o){var n,e,r={}.hasOwnProperty,i=function(t,o){function n(){this.constructor=t}for(var e in o)r.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};e="object"==typeof process&&"node"===process.title?o("../../lib/NoFlo"):o("../lib/NoFlo"),n=function(t){function o(){var t=this;this.container=null,this.inPorts={"in":new e.Port("object"),selector:new e.Port("string")},this.outPorts={element:new e.Port("object"),error:new e.Port("object")},this.inPorts["in"].on("data",function(o){return"function"!=typeof o.querySelector?(t.error("Given container doesn't support querySelectors"),void 0):t.container=o}),this.inPorts.selector.on("data",function(o){return t.select(o)})}return i(o,t),o.prototype.description="Get a DOM element matching a query",o.prototype.select=function(t){var o;return(o=this.container?this.container.querySelector(t):document.querySelector(t))?(this.outPorts.element.send(o),this.outPorts.element.disconnect()):(this.error("No element matching '"+t+"' found"),void 0)},o.prototype.error=function(t){if(this.outPorts.error.isAttached())return this.outPorts.error.send(Error(t)),this.outPorts.error.disconnect(),void 0;throw Error(t)},o}(e.Component),t.getComponent=function(){return new n}}),require.register("noflo/src/components/MoveElement.js",function(t,o){var n,e,r={}.hasOwnProperty,i=function(t,o){function n(){this.constructor=t}for(var e in o)r.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};e="object"==typeof process&&"node"===process.title?o("../../lib/NoFlo"):o("../lib/NoFlo"),n=function(t){function o(){var t=this;this.element=null,this.inPorts={element:new e.Port("object"),x:new e.Port("number"),y:new e.Port("number"),z:new e.Port("number")},this.inPorts.element.on("data",function(o){return t.element=o}),this.inPorts.x.on("data",function(o){return t.setPosition("left",""+o+"px")}),this.inPorts.y.on("data",function(o){return t.setPosition("top",""+o+"px")}),this.inPorts.z.on("data",function(o){return t.setPosition("zIndex",o)})}return i(o,t),o.prototype.description="Change the coordinates of a DOM element",o.prototype.setPosition=function(t,o){return this.element.style.position="absolute",this.element.style[t]=o},o}(e.Component),t.getComponent=function(){return new n}}),require.register("noflo/src/components/ListenTouch.js",function(t,o){var n,e,r=function(t,o){return function(){return t.apply(o,arguments)}},i={}.hasOwnProperty,s=function(t,o){function n(){this.constructor=t}for(var e in o)i.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};e="object"==typeof process&&"node"===process.title?o("../../lib/NoFlo"):o("../lib/NoFlo"),n=function(t){function o(){this.touchend=r(this.touchend,this),this.touchmove=r(this.touchmove,this),this.touchstart=r(this.touchstart,this);var t=this;this.inPorts={element:new e.Port("object")},this.outPorts={start:new e.ArrayPort("object"),moveX:new e.ArrayPort("number"),moveY:new e.ArrayPort("number"),end:new e.ArrayPort("object")},this.inPorts.element.on("data",function(o){return t.subscribe(o)})}return s(o,t),o.prototype.description="Listen to touch events on a DOM element",o.prototype.subscribe=function(t){return t.addEventListener("touchstart",this.touchstart,!1),t.addEventListener("touchmove",this.touchmove,!1),t.addEventListener("touchend",this.touchend,!1)},o.prototype.touchstart=function(t){var o,n,e,r,i;if(t.preventDefault(),t.stopPropagation(),t.changedTouches&&t.changedTouches.length){for(i=t.changedTouches,o=e=0,r=i.length;r>e;o=++e)n=i[o],this.outPorts.start.beginGroup(o),this.outPorts.start.send(t),this.outPorts.start.endGroup();return this.outPorts.start.disconnect()}},o.prototype.touchmove=function(t){var o,n,e,r,i,s;if(t.preventDefault(),t.stopPropagation(),t.changedTouches&&t.changedTouches.length){for(i=t.changedTouches,s=[],o=e=0,r=i.length;r>e;o=++e)n=i[o],this.outPorts.moveX.beginGroup(o),this.outPorts.moveX.send(n.pageX),this.outPorts.moveX.endGroup(),this.outPorts.moveY.beginGroup(o),this.outPorts.moveY.send(n.pageY),s.push(this.outPorts.moveY.endGroup());return s}},o.prototype.touchend=function(t){var o,n,e,r,i;if(t.preventDefault(),t.stopPropagation(),t.changedTouches&&t.changedTouches.length){for(this.outPorts.moveX.isConnected()&&this.outPorts.moveX.disconnect(),this.outPorts.moveY.isConnected()&&this.outPorts.moveY.disconnect(),i=t.changedTouches,o=e=0,r=i.length;r>e;o=++e)n=i[o],this.outPorts.end.beginGroup(o),this.outPorts.end.send(t),this.outPorts.end.endGroup();return this.outPorts.end.disconnect()}},o}(e.Component),t.getComponent=function(){return new n}}),require.register("noflo/src/components/ListenDrag.js",function(t,o){var n,e,r=function(t,o){return function(){return t.apply(o,arguments)}},i={}.hasOwnProperty,s=function(t,o){function n(){this.constructor=t}for(var e in o)i.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};e="object"==typeof process&&"node"===process.title?o("../../lib/NoFlo"):o("../lib/NoFlo"),n=function(t){function o(){this.dragend=r(this.dragend,this),this.dragmove=r(this.dragmove,this),this.dragstart=r(this.dragstart,this);var t=this;this.inPorts={element:new e.Port("object"),dataTransfer:new e.Port,dragImage:new e.Port,dragImageX:new e.Port("number"),dragImageY:new e.Port("number")},this.outPorts={start:new e.ArrayPort("object"),moveX:new e.ArrayPort("number"),moveY:new e.ArrayPort("number"),end:new e.ArrayPort("object")},this.inPorts.element.on("data",function(o){return t.subscribe(o)})}return s(o,t),o.prototype.description="Listen to drag events on a DOM element",o.prototype.subscribe=function(t){return t.addEventListener("dragstart",this.dragstart,!1)},o.prototype.dragstart=function(t){return t.preventDefault(),t.stopPropagation(),this.outPorts.start.send(t),this.outPorts.start.disconnect(),window.addEventListener("mousemove",this.dragmove,!1),window.addEventListener("mouseup",this.dragend,!1)},o.prototype.dragmove=function(t){return t.preventDefault(),t.stopPropagation(),this.outPorts.moveX.send(t.clientX),this.outPorts.moveY.send(t.clientY)},o.prototype.dragend=function(t){return t.preventDefault(),t.stopPropagation(),this.outPorts.moveX.isConnected()&&this.outPorts.moveX.disconnect(),this.outPorts.moveY.isConnected()&&this.outPorts.moveY.disconnect(),this.outPorts.end.send(t),this.outPorts.end.disconnect(),window.removeEventListener("mousemove",this.dragmove,!1),window.removeEventListener("mouseup",this.dragend,!1)},o}(e.Component),t.getComponent=function(){return new n}}),require.register("noflo/src/components/ListenMouse.js",function(t,o){var n,e,r=function(t,o){return function(){return t.apply(o,arguments)}},i={}.hasOwnProperty,s=function(t,o){function n(){this.constructor=t}for(var e in o)i.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};e="object"==typeof process&&"node"===process.title?o("../../lib/NoFlo"):o("../lib/NoFlo"),n=function(t){function o(){this.click=r(this.click,this);var t=this;this.inPorts={element:new e.Port("object")},this.outPorts={click:new e.ArrayPort("object")},this.inPorts.element.on("data",function(o){return t.subscribe(o)})}return s(o,t),o.prototype.description="Listen to mouse events on a DOM element",o.prototype.subscribe=function(t){return t.addEventListener("click",this.click,!1)},o.prototype.click=function(t){return t.preventDefault(),t.stopPropagation(),this.outPorts.click.send(t),this.outPorts.click.disconnect()},o}(e.Component),t.getComponent=function(){return new n}}),require.register("noflo/src/components/Spring.js",function(t,o){var n,e,r,i=function(t,o){return function(){return t.apply(o,arguments)}},s={}.hasOwnProperty,u=function(t,o){function n(){this.constructor=t}for(var e in o)s.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};"object"==typeof process&&"node"===process.title?(e=o("../../lib/NoFlo"),r=process.nextTick):(e=o("../lib/NoFlo"),r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,1)}),n=function(t){function o(){this.step=i(this.step,this);var t=this;this.massPosition=0,this.anchorPosition=0,this.stiffness=120,this.mass=10,this.friction=3,this.speed=0,this.inPorts={anchor:new e.Port("number"),"in":new e.Port("number")},this.outPorts={out:new e.Port("number")},this.inPorts.anchor.on("data",function(o){t.anchorPosition=o}),this.inPorts["in"].on("data",function(o){return t.massPosition=o,t.step()})}return u(o,t),o.prototype.description="Animates a directional spring",o.prototype.step=function(){var t,o,n,e,i,s;return n=this.massPosition-this.anchorPosition,o=-this.friction*this.speed,i=-this.stiffness*n,s=i+o,t=s/this.mass,this.speed+=t,e=this.massPosition,this.massPosition+=this.speed/100,Math.round(this.massPosition)!==Math.round(e)&&this.outPorts.out.send(Math.round(this.massPosition)),Math.round(this.massPosition)===this.anchorPosition&&.2>Math.abs(this.speed)?this.outPorts.out.disconnect():0!==this.massPosition?r(this.step):void 0},o}(e.Component),t.getComponent=function(){return new n}}),require.register("noflo/src/components/Callback.js",function(t,o){var n,e,r,i={}.hasOwnProperty,s=function(t,o){function n(){this.constructor=t}for(var e in o)i.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};e="object"==typeof process&&"node"===process.title?o("../../lib/NoFlo"):o("../lib/NoFlo"),r=o("underscore")._,n=function(t){function o(){var t=this;this.callback=null,this.inPorts={"in":new e.Port("all"),callback:new e.Port("function")},this.outPorts={error:new e.Port("object")},this.inPorts.callback.on("data",function(o){return r.isFunction(o)?t.callback=o:(t.error("The provided callback must be a function"),void 0)}),this.inPorts["in"].on("data",function(o){return t.callback?t.callback(o):(t.error("No callback provided"),void 0)})}return s(o,t),o.prototype.description="Call a given function with each IP received",o.prototype.error=function(t){if(this.outPorts.error.isAttached())return this.outPorts.error.send(Error(t)),this.outPorts.error.disconnect(),void 0;throw Error(t)},o}(e.Component),t.getComponent=function(){return new n}}),require.register("noflo/src/components/Kick.js",function(t,o){var n,e,r={}.hasOwnProperty,i=function(t,o){function n(){this.constructor=t}for(var e in o)r.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};e="object"==typeof process&&"node"===process.title?o("../../lib/NoFlo"):o("../lib/NoFlo"),n=function(t){function o(){var t=this;this.data={packet:null,group:[]},this.groups=[],this.inPorts={"in":new e.Port,data:new e.Port},this.outPorts={out:new e.ArrayPort},this.inPorts["in"].on("begingroup",function(o){return t.groups.push(o)}),this.inPorts["in"].on("data",function(){return t.data.group=t.groups.slice(0)}),this.inPorts["in"].on("endgroup",function(){return t.groups.pop()}),this.inPorts["in"].on("disconnect",function(){return t.sendKick(t.data),t.groups=[]}),this.inPorts.data.on("data",function(o){return t.data.packet=o})}return i(o,t),o.prototype.description="This component generates a single packet and sends  it to the output port. Mostly usable for debugging, but can also  be useful for starting up networks.",o.prototype.sendKick=function(t){var o,n,e,r,i,s,u;for(s=t.group,n=0,r=s.length;r>n;n++)o=s[n],this.outPorts.out.beginGroup(o);for(this.outPorts.out.send(t.packet),u=t.group,e=0,i=u.length;i>e;e++)o=u[e],this.outPorts.out.endGroup();return this.outPorts.out.disconnect()},o}(e.Component),t.getComponent=function(){return new n}}),require.register("noflo/src/components/Gate.js",function(t,o){var n,e,r={}.hasOwnProperty,i=function(t,o){function n(){this.constructor=t}for(var e in o)r.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};e="object"==typeof process&&"node"===process.title?o("../../lib/NoFlo"):o("../lib/NoFlo"),n=function(t){function o(){var t=this;this.open=!1,this.inPorts={"in":new e.Port,open:new e.Port,close:new e.Port},this.outPorts={out:new e.Port},this.inPorts["in"].on("connect",function(){return t.open?t.outPorts.out.connect():void 0}),this.inPorts["in"].on("begingroup",function(o){return t.open?t.outPorts.out.beginGroup(o):void 0}),this.inPorts["in"].on("data",function(o){return t.open?t.outPorts.out.send(o):void 0}),this.inPorts["in"].on("endgroup",function(){return t.open?t.outPorts.out.endGroup():void 0}),this.inPorts["in"].on("disconnect",function(){return t.open?t.outPorts.out.disconnect():void 0}),this.inPorts.open.on("data",function(){return t.open=!0}),this.inPorts.close.on("data",function(){return t.open=!1})}return i(o,t),o.prototype.description="This component forwards received packets when the gate is open",o}(e.Component),t.getComponent=function(){return new n}}),require.register("noflo/src/components/Split.js",function(t,o){var n,e,r={}.hasOwnProperty,i=function(t,o){function n(){this.constructor=t}for(var e in o)r.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};e="object"==typeof process&&"node"===process.title?o("../../lib/NoFlo"):o("../lib/NoFlo"),n=function(t){function o(){var t=this;this.inPorts={"in":new e.Port("all")},this.outPorts={out:new e.ArrayPort("all")},this.inPorts["in"].on("connect",function(){return t.outPorts.out.connect()}),this.inPorts["in"].on("begingroup",function(o){return t.outPorts.out.beginGroup(o)}),this.inPorts["in"].on("data",function(o){return t.outPorts.out.send(o)}),this.inPorts["in"].on("endgroup",function(){return t.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){return t.outPorts.out.disconnect()})}return i(o,t),o.prototype.description="This component receives data on a single input port and sendsthe same data out to all connected output ports",o}(e.Component),t.getComponent=function(){return new n}}),require.register("noflo/src/components/Merge.js",function(t,o){var n,e,r={}.hasOwnProperty,i=function(t,o){function n(){this.constructor=t}for(var e in o)r.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};e="object"==typeof process&&"node"===process.title?o("../../lib/NoFlo"):o("../lib/NoFlo"),n=function(t){function o(){var t=this;this.inPorts={"in":new e.ArrayPort},this.outPorts={out:new e.Port},this.inPorts["in"].on("connect",function(){return t.outPorts.out.connect()}),this.inPorts["in"].on("begingroup",function(o){return t.outPorts.out.beginGroup(o)}),this.inPorts["in"].on("data",function(o){return t.outPorts.out.send(o)}),this.inPorts["in"].on("endgroup",function(){return t.outPorts.out.endGroup()}),this.inPorts["in"].on("disconnect",function(){var o,n,e,r;for(r=t.inPorts["in"].sockets,n=0,e=r.length;e>n;n++)if(o=r[n],o.connected)return;return t.outPorts.out.disconnect()})}return i(o,t),o.prototype.description="This component receives data on multiple input ports  and sends the same data out to the connected output port",o}(e.Component),t.getComponent=function(){return new n}}),require.register("noflo/src/components/Graph.js",function(t,o){var n,e,r={}.hasOwnProperty,i=function(t,o){function n(){this.constructor=t}for(var e in o)r.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};e="object"==typeof process&&"node"===process.title?o("../../lib/NoFlo"):o("../lib/NoFlo"),n=function(t){function o(){var t=this;this.network=null,this.ready=!0,this.baseDir=null,this.inPorts={graph:new e.Port},this.outPorts={},this.inPorts.graph.on("data",function(o){return t.setGraph(o)})}return i(o,t),o.prototype.setGraph=function(t){var o=this;return this.ready=!1,"object"==typeof t?"function"==typeof t.addNode?this.createNetwork(t):(e.graph.loadJSON(t,function(t){return t.baseDir=o.baseDir,o.createNetwork(t)}),void 0):("/"!==t.substr(0,1)&&(t=""+process.cwd()+"/"+t),t=e.graph.loadFile(t,function(t){return t.baseDir=o.baseDir,o.createNetwork(t)}))},o.prototype.createNetwork=function(t){var o=this;return e.createNetwork(t,function(t){var n,e,r,i;o.network=t,e=!1,i=o.network.processes;for(n in i)r=i[n],o.checkComponent(n,r)||(e=!0);return e?void 0:o.setToReady()})},o.prototype.checkComponent=function(t,o){var n=this;return o.component.isReady()?(this.findEdgePorts(t,o),!0):(o.component.once("ready",function(){return n.checkComponent(t,o),n.setToReady()}),!1)},o.prototype.portName=function(t,o){return""+t.toLowerCase()+"."+o},o.prototype.isExported=function(t,o,n){var e,r,i,s,u;if(r=this.portName(o,n),t.isAttached())return!1;if(0===this.network.graph.exports.length)return r;for(u=this.network.graph.exports,i=0,s=u.length;s>i;i++)if(e=u[i],e["private"]===r)return e["public"];return!1},o.prototype.setToReady=function(){var t=this;return"object"==typeof process&&"node"===process.title?process.nextTick(function(){return t.ready=!0,t.emit("ready")}):setTimeout(function(){return t.ready=!0,t.emit("ready")},0)},o.prototype.findEdgePorts=function(t,o){var n,e,r,i,s;i=o.component.inPorts;for(e in i)n=i[e],r=this.isExported(n,t,e),r!==!1&&(this.inPorts[r]=n);s=o.component.outPorts;for(e in s)n=s[e],r=this.isExported(n,t,e),r!==!1&&(this.outPorts[r]=n);return!0},o.prototype.isReady=function(){return this.ready},o.prototype.isSubgraph=function(){return!0},o}(e.Component),t.getComponent=function(){return new n}}),require.register("noflo/src/components/Output.js",function(t,o){var n,e,r,i={}.hasOwnProperty,s=function(t,o){function n(){this.constructor=t}for(var e in o)i.call(o,e)&&(t[e]=o[e]);return n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype,t};"object"==typeof process&&"node"===process.title?(e=o("../../lib/NoFlo"),r=o("util")):(e=o("../lib/NoFlo"),r={inspect:function(t){return t}}),n=function(t){function o(){var t=this;this.options={showHidden:!1,depth:2,colors:!1},this.inPorts={"in":new e.ArrayPort,options:new e.Port},this.outPorts={out:new e.Port},this.inPorts["in"].on("data",function(o){return t.log(o),t.outPorts.out.isAttached()?t.outPorts.out.send(o):void 0}),this.inPorts.options.on("data",function(o){return t.setOptions(o)})}return s(o,t),o.prototype.description="This component receives input on a single inport, and    sends the data items directly to console.log",o.prototype.setOptions=function(t){var o,n,e;if("object"!=typeof t)throw Error("Options is not an object");e=[];for(o in t)i.call(t,o)&&(n=t[o],e.push(this.options[o]=n));return e},o.prototype.log=function(t){return console.log(r.inspect(t,this.options.showHidden,this.options.depth,this.options.colors))},o}(e.Component),t.getComponent=function(){return new n}}),require.register("noflo/component.json",function(t,o,n){n.exports=JSON.parse('{"name":"noflo","description":"Flow-Based Programming environment for JavaScript","keywords":["fbp","workflow","flow"],"repo":"bergie/noflo","version":"0.3.3","dependencies":{"component/emitter":"*","component/underscore":"*"},"development":{},"license":"MIT","main":"src/lib/NoFlo.js","scripts":["src/lib/Graph.js","src/lib/InternalSocket.js","src/lib/Port.js","src/lib/ArrayPort.js","src/lib/Component.js","src/lib/AsyncComponent.js","src/lib/LoggingComponent.js","src/lib/ComponentLoader.js","src/lib/NoFlo.js","src/lib/Network.js","src/components/GetElement.js","src/components/MoveElement.js","src/components/ListenTouch.js","src/components/ListenDrag.js","src/components/ListenMouse.js","src/components/Spring.js","src/components/Callback.js","src/components/Kick.js","src/components/Gate.js","src/components/Split.js","src/components/Merge.js","src/components/Graph.js","src/components/Output.js"],"json":["component.json"],"noflo":{"components":{"GetElement":"src/components/GetElement.js","MoveElement":"src/components/MoveElement.js","ListenTouch":"src/components/ListenTouch.js","ListenDrag":"src/components/ListenDrag.js","ListenMouse":"src/components/ListenMouse.js","Spring":"src/components/Spring.js","Callback":"src/components/Callback.js","Kick":"src/components/Kick.js","Gate":"src/components/Gate.js","Split":"src/components/Split.js","Merge":"src/components/Merge.js","Graph":"src/components/Graph.js","Output":"src/components/Output.js"}}}')}),require.alias("component-emitter/index.js","noflo/deps/emitter/index.js"),require.alias("component-emitter/index.js","emitter/index.js"),require.alias("component-indexof/index.js","component-emitter/deps/indexof/index.js"),require.alias("component-underscore/index.js","noflo/deps/underscore/index.js"),require.alias("component-underscore/index.js","underscore/index.js"),require.alias("noflo/src/lib/NoFlo.js","noflo/index.js");